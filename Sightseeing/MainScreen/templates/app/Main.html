{% extends "common/base.html" %}
{% load static %} 

{% block title %} GOST - Discover Vietnam {% endblock %}

{% block extra_css %} 
    <link rel="stylesheet" href="{% static 'Main.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block content %}
    <!-- 1. HERO SECTION -->
    <header class="hero">
        <div class="hero__bg">
            <img src="{% static 'images/MainScreen_Image.jpg' %}" alt="City night skyline">
            <div class="hero__overlay"></div>
        </div>

        <div class="hero__content">
            <span class="hero__subtitle">Welcome to Vietnam</span>
            <h1>Plan Now.<br/>Travel Tomorrow.</h1>
            <p>Curated one-day itineraries for the modern explorer.</p>
            <a href="#discover" class="hero__btn">Start Exploring</a>
        </div>
    </header>

    <section id="discover" class="section-container">
        <div class="section-header">
            <h2 class="section-title">Popular Itineraries</h2>
            <p class="section-desc">Best-rated trips generated by our community and experts.</p>
        </div>

        <!--Khung để load các itineraries phổ biến -->
        <div class="trip-grid" id="trip-list-container">
            <!-- Loading Spinner (Hiển thị trong lúc chờ API) -->
            <div class="loading-spinner">Loading trips...</div>
        </div>
    </section>
    
    <section class="customize-section">
        <div class="customize-banner" style="background-image: url('{% static 'images/Banner.jpg' %}');">
            <div class="customize-content">
                <h2>Still not satisfied?</h2>
                <p>Design your own unique journey tailored to your preferences.</p>
            </div>
            <div class="customize-action">
                <button class="btn-primary">Create Custom Trip</button>
            </div>
        </div>
    </section>

    <!-- Trip Details Model -->
    <div id = "trip-modal" class = "modal-overlay">
        <div class = "modal-container">
            <button class = "modal-close" id = "close-modal"><i class="fa-solid fa-xmark"></i> </button>

            <div class = "modal-header">
                <div class = "modal-header-content">
                    <div class = "modal-badges">
                        <span class="badge-day">1 Day</span>
                        <span class="badge-rating"><i class="fa-solid fa-star"></i> <span id="modal-rating">0.0</span></span>
                    </div>
                    <h2 id="modal-title">Trip Title</h2>
                    <p id="modal-desc">Description goes here...</p>
                </div>
            </div>

            <div class = "modal-body">
                <h3 class="timeline-title">Your Itinerary</h3>
                <div class = "route-timeline" id = "modal-stops">
                
                </div>
            </div>

            <div class = "modal-footer">
                <div class = "footer-infor">
                    <span><i class="fa-solid fa-location-dot"></i> <span id="modal-stop-count">0</span> Stops</span>
                </div>
                <button id="btn-use-trip" class="btn-use-trip">
                    Use This Trip <i class="fa-solid fa-wand-magic-sparkles"></i>
                </button>
            </div>

        </div>

    </div>

{% endblock %}

{% block extra_js %}
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="{% static 'Main.js' %}"></script>
    <script>
        // Smooth scroll for the "Start Exploring" button
        document.querySelector('.hero__btn').addEventListener('click', function(e) {
            e.preventDefault();
            document.querySelector('#discover').scrollIntoView({ behavior: 'smooth' });
        });
    </script>
{% endblock %}
